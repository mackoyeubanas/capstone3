{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mark.Eubanas\\\\Documents\\\\capstone3\\\\src\\\\components\\\\staffComponents\\\\createCar.jsx\";\n\n/* Create car page */\nimport React, { Component } from 'react';\nimport LocationServiceApi from '../../api/LocationServiceApi';\nimport CarServiceApi from '../../api/CarServiceApi';\nimport { CAR_COLOURS, CAR_BODY_TYPES, CAR_FUEL_TYPES, CAR_SEATS, FILE_UPLOAD_LIMIT } from '../../Constants.js';\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\nexport default class createCar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.resetState = () => {\n      this.setState({\n        driver: '',\n        make: '',\n        seats: '',\n        bodytype: '',\n        numberplate: '',\n        colour: '',\n        costperhour: '',\n        fueltype: '',\n        location: '',\n        b64photo: ''\n      });\n    };\n\n    this.handleFile = event => {\n      // handle image uploaded for car\n      let files = event.target.files;\n\n      if (files !== null) {\n        // file size validation\n        if (event.target.files[0].size > FILE_UPLOAD_LIMIT) {\n          return this.setState({\n            errMsg: 'Image exceeded upload size limit! Please try again with another image.'\n          });\n        }\n\n        let reader = new FileReader();\n        reader.readAsDataURL(files[0]);\n\n        reader.onload = event => {\n          this.setState({\n            b64photo: event.target.result,\n            errMsg: ''\n          });\n        };\n      }\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.inputValidation = () => {\n      const {\n        driver,\n        make,\n        seats,\n        bodytype,\n        numberplate,\n        colour,\n        costperhour,\n        fueltype,\n        location,\n        b64photo\n      } = this.state;\n\n      if (driver === '' || make === '' || seats === '' || bodytype === '' || numberplate === '' || colour === '' || costperhour === '' || fueltype === '' || location === '' || b64photo === '') {\n        this.setState({\n          errMsg: \"Please fill in everything\"\n        });\n        return false;\n      } else {\n        this.setState({\n          errMsg: \"\"\n        });\n        return true;\n      }\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n\n      if (!this.inputValidation()) {\n        return;\n      }\n\n      this.setState({\n        disableSubmit: true\n      }); // generate a new car object\n\n      const newCar = {\n        driver: this.state.driver.trim(),\n        make: this.state.make.trim(),\n        seats: this.state.seats,\n        bodytype: this.state.bodytype,\n        numberplate: this.state.numberplate.trim(),\n        colour: this.state.colour,\n        costperhour: this.state.costperhour,\n        fueltype: this.state.fueltype,\n        location: this.state.location,\n        b64photo: this.state.b64photo\n      }; // publish car object to backend\n\n      CarServiceApi.createNewCar(newCar).then(res => {\n        this.setState({\n          disableSubmit: false,\n          successMsg: \"Successfully added car\",\n          errMsg: \"\"\n        });\n      }, err => {\n        this.setState({\n          disableSubmit: false,\n          successMsg: \"\",\n          errMsg: err.response.data.message\n        });\n        console.log(err.response);\n      });\n    };\n\n    this.state = {\n      driver: '',\n      make: '',\n      seats: '',\n      bodytype: '',\n      numberplate: '',\n      colour: '',\n      costperhour: '',\n      fueltype: '',\n      location: '',\n      locationList: [],\n      disableSubmit: false,\n      successMsg: '',\n      errMsg: '',\n      b64photo: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleFile = this.handleFile.bind(this);\n  }\n\n  componentDidMount() {\n    LocationServiceApi.getAllLocations().then(res => {\n      res.data.map(location => this.setState({\n        locationList: this.state.locationList.concat(location.address)\n      }));\n    }, err => {\n      console.log(err.response);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, \"Create Car\"), this.state.errMsg && /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, \"Add car failed!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, this.state.errMsg)), this.state.successMsg && /*#__PURE__*/React.createElement(Alert, {\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, \"Add car succeed!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, this.state.successMsg)), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalMake\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }\n    }, \"Driver\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"driver\",\n      type: \"driver\",\n      placeholder: \"Car Driver\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalMake\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, \"Make\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"make\",\n      type: \"make\",\n      placeholder: \"Car Make\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalSeats\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 25\n      }\n    }, \"Seats\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"seats\",\n      type: \"seats\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 33\n      }\n    }, \"Select seat number\"), CAR_SEATS.map((option, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: option,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 41\n      }\n    }, option))))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalBodyType\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 25\n      }\n    }, \"Body type\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"bodytype\",\n      type: \"bodytype\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 33\n      }\n    }, \"Select body type\"), CAR_BODY_TYPES.map((option, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: option,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 41\n      }\n    }, option))))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalNumberPlate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 25\n      }\n    }, \"Number Plate\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"numberplate\",\n      type: \"numberplate\",\n      placeholder: \"Enter plate number\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalColour\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 25\n      }\n    }, \"Colour\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"colour\",\n      type: \"colour\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 33\n      }\n    }, \"Select colour\"), CAR_COLOURS.map((option, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: option,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 41\n      }\n    }, option))))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalCostPerHour\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 25\n      }\n    }, \"Cost per hour\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"costperhour\",\n      type: \"number\",\n      placeholder: \"Select cost per hour\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalFuelType\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 25\n      }\n    }, \"Fuel type\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"fueltype\",\n      type: \"fueltype\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 33\n      }\n    }, \"Select fuel type\"), CAR_FUEL_TYPES.map((option, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: option,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 41\n      }\n    }, option))))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalLocation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 25\n      }\n    }, \"Location\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"location\",\n      type: \"location\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 33\n      }\n    }, \"Select location\"), \"l\", this.state.locationList.map((option, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: option,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 41\n      }\n    }, option))))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalLocation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.File, {\n      id: \"custom-file\",\n      label: \"Car Image (4MB max)\",\n      name: \"b64photo\",\n      accept: \"image/*\",\n      onChange: this.handleFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: {\n        span: 10,\n        offset: 2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleSubmit,\n      disabled: this.state.disableSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 29\n      }\n    }, \"Create Car\")))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Mark.Eubanas/Documents/capstone3/src/components/staffComponents/createCar.jsx"],"names":["React","Component","LocationServiceApi","CarServiceApi","CAR_COLOURS","CAR_BODY_TYPES","CAR_FUEL_TYPES","CAR_SEATS","FILE_UPLOAD_LIMIT","Form","Col","Button","Row","Alert","createCar","constructor","props","resetState","setState","driver","make","seats","bodytype","numberplate","colour","costperhour","fueltype","location","b64photo","handleFile","event","files","target","size","errMsg","reader","FileReader","readAsDataURL","onload","result","handleChange","name","value","inputValidation","state","handleSubmit","preventDefault","disableSubmit","newCar","trim","createNewCar","then","res","successMsg","err","response","data","message","console","log","locationList","bind","componentDidMount","getAllLocations","map","concat","address","render","option","index","span","offset"],"mappings":"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","sourcesContent":["/* Create car page */\r\nimport React, { Component } from 'react';\r\nimport LocationServiceApi from '../../api/LocationServiceApi';\r\nimport CarServiceApi from '../../api/CarServiceApi';\r\nimport { CAR_COLOURS, CAR_BODY_TYPES, CAR_FUEL_TYPES, CAR_SEATS, FILE_UPLOAD_LIMIT } from '../../Constants.js';\r\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\r\n\r\nexport default class createCar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            driver: '',\r\n            make: '',\r\n            seats: '',\r\n            bodytype: '',\r\n            numberplate: '',\r\n            colour: '',\r\n            costperhour: '',\r\n            fueltype: '',\r\n            location: '',\r\n            locationList: [],\r\n            disableSubmit: false,\r\n            successMsg: '',\r\n            errMsg: '',\r\n            b64photo: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleFile = this.handleFile.bind(this);\r\n    }\r\n\r\n    resetState = () => {\r\n        this.setState({\r\n            driver: '',\r\n            make: '',\r\n            seats: '',\r\n            bodytype: '',\r\n            numberplate: '',\r\n            colour: '',\r\n            costperhour: '',\r\n            fueltype: '',\r\n            location: '',\r\n            b64photo: ''\r\n        });\r\n    }\r\n\r\n    handleFile = (event) => {\r\n        // handle image uploaded for car\r\n        let files = event.target.files;\r\n        if (files !== null) {\r\n            // file size validation\r\n            if (event.target.files[0].size > FILE_UPLOAD_LIMIT) {\r\n                return this.setState({\r\n                    errMsg: 'Image exceeded upload size limit! Please try again with another image.'\r\n                });\r\n            }\r\n            let reader = new FileReader();\r\n            reader.readAsDataURL(files[0]);\r\n            reader.onload = (event) => {\r\n                this.setState({\r\n                    b64photo: event.target.result,\r\n                    errMsg: ''\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    }\r\n\r\n    inputValidation = () => {\r\n        const { driver, make, seats, bodytype, numberplate,\r\n            colour, costperhour, fueltype, location, b64photo } = this.state;\r\n\r\n        if (driver === '' || make === '' || seats === '' || bodytype === '' || numberplate === ''\r\n            || colour === '' || costperhour === '' || fueltype === '' || location === '' || b64photo === '') {\r\n            this.setState({\r\n                errMsg: \"Please fill in everything\"\r\n            });\r\n            return false;\r\n        }\r\n        else {\r\n            this.setState({\r\n                errMsg: \"\"\r\n            })\r\n            return true;\r\n        }\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (!this.inputValidation()) {\r\n            return;\r\n        }\r\n        this.setState({\r\n            disableSubmit: true\r\n        })\r\n        // generate a new car object\r\n        const newCar = {\r\n            driver: this.state.driver.trim(),\r\n            make: this.state.make.trim(),\r\n            seats: this.state.seats,\r\n            bodytype: this.state.bodytype,\r\n            numberplate: this.state.numberplate.trim(),\r\n            colour: this.state.colour,\r\n            costperhour: this.state.costperhour,\r\n            fueltype: this.state.fueltype,\r\n            location: this.state.location,\r\n            b64photo: this.state.b64photo\r\n        };\r\n        // publish car object to backend\r\n        CarServiceApi.createNewCar(newCar).then((res) => {\r\n            this.setState({\r\n                disableSubmit: false,\r\n                successMsg: \"Successfully added car\",\r\n                errMsg: \"\"\r\n            });\r\n        }, (err) => {\r\n            this.setState({\r\n                disableSubmit: false,\r\n                successMsg: \"\",\r\n                errMsg: err.response.data.message\r\n            });\r\n            console.log(err.response);\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        LocationServiceApi.getAllLocations().then((res) => {\r\n            res.data.map(location => this.setState({ locationList: this.state.locationList.concat(location.address) }));\r\n        }, (err) => {\r\n            console.log(err.response);\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h2>Create Car</h2>\r\n                {this.state.errMsg &&\r\n                    <Alert variant=\"danger\">\r\n                        <Alert.Heading>Add car failed!</Alert.Heading>\r\n                        <p>\r\n                            {this.state.errMsg}\r\n                        </p>\r\n                    </Alert>\r\n                }\r\n\r\n                {this.state.successMsg &&\r\n                    <Alert variant=\"success\">\r\n                        <Alert.Heading>Add car succeed!</Alert.Heading>\r\n                        <p>\r\n                            {this.state.successMsg}\r\n                        </p>\r\n                    </Alert>\r\n                }\r\n                <Form>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalMake\">\r\n                        <Form.Label column sm={2}>\r\n                            Driver\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"driver\" type=\"driver\" placeholder=\"Car Driver\" onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalMake\">\r\n                        <Form.Label column sm={2}>\r\n                            Make\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"make\" type=\"make\" placeholder=\"Car Make\" onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalSeats\">\r\n                        <Form.Label column sm={2}>\r\n                            Seats\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control as=\"select\" name=\"seats\" type=\"seats\" onChange={this.handleChange} required>\r\n                                <option disabled selected>Select seat number</option>\r\n                                {\r\n                                    CAR_SEATS.map((option, index) =>\r\n                                        <option key={index} value={option}>{option}</option>\r\n                                    )\r\n                                }\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalBodyType\">\r\n                        <Form.Label column sm={2}>\r\n                            Body type\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control as=\"select\" name=\"bodytype\" type=\"bodytype\" onChange={this.handleChange} required>\r\n                                <option disabled selected>Select body type</option>\r\n                                {\r\n                                    CAR_BODY_TYPES.map((option, index) =>\r\n                                        <option key={index} value={option}>{option}</option>\r\n                                    )\r\n                                }\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalNumberPlate\">\r\n                        <Form.Label column sm={2}>\r\n                            Number Plate\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"numberplate\" type=\"numberplate\" placeholder=\"Enter plate number\" onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalColour\">\r\n                        <Form.Label column sm={2}>\r\n                            Colour\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control as=\"select\" name=\"colour\" type=\"colour\" onChange={this.handleChange} required>\r\n                                <option disabled selected>Select colour</option>\r\n                                {\r\n                                    CAR_COLOURS.map((option, index) =>\r\n                                        <option key={index} value={option}>{option}</option>\r\n                                    )\r\n                                }\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalCostPerHour\">\r\n                        <Form.Label column sm={2}>\r\n                            Cost per hour\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"costperhour\" type=\"number\" placeholder=\"Select cost per hour\" onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalFuelType\">\r\n                        <Form.Label column sm={2}>\r\n                            Fuel type\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control as=\"select\" name=\"fueltype\" type=\"fueltype\" onChange={this.handleChange} required>\r\n                                <option disabled selected>Select fuel type</option>\r\n                                {\r\n                                    CAR_FUEL_TYPES.map((option, index) =>\r\n                                        <option key={index} value={option}>{option}</option>\r\n                                    )\r\n                                }\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalLocation\">\r\n                        <Form.Label column sm={2}>\r\n                            Location\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control as=\"select\" name=\"location\" type=\"location\" onChange={this.handleChange} required>\r\n                                <option disabled selected>Select location</option>l\r\n                                {\r\n                                    this.state.locationList.map((option, index) =>\r\n                                        <option key={index} value={option}>{option}</option>\r\n                                    )\r\n                                }\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalLocation\">\r\n                        <Form.Label column sm={2}>\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.File\r\n                                id=\"custom-file\"\r\n                                label=\"Car Image (4MB max)\"\r\n                                name=\"b64photo\"\r\n                                accept=\"image/*\"\r\n                                onChange={this.handleFile}\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row}>\r\n                        <Col sm={{ span: 10, offset: 2 }}>\r\n                            <Button onClick={this.handleSubmit} disabled={this.state.disableSubmit}>Create Car</Button>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}