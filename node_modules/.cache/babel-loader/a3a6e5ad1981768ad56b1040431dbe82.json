{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Microsoft\\\\Documents\\\\capstone3\\\\capstone3\\\\src\\\\components\\\\adminComponents\\\\adminSignup.jsx\";\n\n/* Admin sign up page */\nimport React, { Component } from 'react';\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\nimport UserServiceApi from '../../api/UserServiceApi.js';\n\nclass AdminSignUpPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      // generate new user object\n      let newUser = {\n        firstname: this.state.firstname.trim(),\n        lastname: this.state.lastname.trim(),\n        email: this.state.email,\n        password: this.state.password,\n        usertype: this.state.usertype\n      }; // input validation\n\n      if (this.state.firstname === '') {\n        return this.setState({\n          errorMessage: \"First name can't be empty!\"\n        });\n      }\n\n      if (this.state.lastname === '') {\n        return this.setState({\n          errorMessage: \"Last name can't be empty!\"\n        });\n      }\n\n      const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      if (!emailRegex.test(String(this.state.email).toLowerCase())) {\n        return this.setState({\n          errorMessage: \"Please enter a valid email!\"\n        });\n      } // publish create user request to backend\n\n\n      UserServiceApi.createNewUser(newUser).then(() => {\n        this.setState({\n          successMessage: 'User has been created!',\n          errorMessage: ''\n        });\n      }).catch(error => {\n        // display error if there's any\n        this.setState({\n          errorMessage: error.response.data.message\n        });\n      });\n    };\n\n    this.state = {\n      firstname: '',\n      lastname: '',\n      email: '',\n      password: '',\n      usertype: '',\n      errorMessage: '',\n      successMessage: ''\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n  /* Set react state for each input when user inputs something on signup form */\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"Create Account\"), this.state.errorMessage && /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, \"Sign up failed!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, this.state.errorMessage)), this.state.successMessage && /*#__PURE__*/React.createElement(Alert, {\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 47\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, \"Account created!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, this.state.successMessage)), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalFirstName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"firstname\",\n      type: \"firstname\",\n      placeholder: \"First Name\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalLastName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"lastname\",\n      type: \"lastname\",\n      placeholder: \"Last Name\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Email\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"password\",\n      type: \"password\",\n      pattern: \"(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\",\n      title: \"Must contain: at least one number, one uppercase, lowercase letter, and at least 8 or more characters\",\n      placeholder: \"Password\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalUserType\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, \"Account Type\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"usertype\",\n      as: \"select\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    }, \"Select account type\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }\n    }, \"customer\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    }, \"staff\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    }, \"admin\")))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: {\n        span: 10,\n        offset: 2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 29\n      }\n    }, \"Create Account\")))));\n  }\n\n}\n\nexport default AdminSignUpPage;","map":{"version":3,"sources":["C:/Users/Microsoft/Documents/capstone3/capstone3/src/components/adminComponents/adminSignup.jsx"],"names":["React","Component","Form","Col","Button","Row","Alert","UserServiceApi","AdminSignUpPage","constructor","props","handleChange","event","setState","target","name","value","handleSubmit","newUser","firstname","state","trim","lastname","email","password","usertype","errorMessage","emailRegex","test","String","toLowerCase","createNewUser","then","successMessage","catch","error","response","data","message","bind","render","span","offset"],"mappings":"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","sourcesContent":["/* Admin sign up page */\r\nimport React, { Component } from 'react';\r\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\r\nimport UserServiceApi from '../../api/UserServiceApi.js'\r\n\r\nclass AdminSignUpPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstname: '',\r\n            lastname: '',\r\n            email: '',\r\n            password: '',\r\n            usertype: '',\r\n            errorMessage: '',\r\n            successMessage: ''\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    /* Set react state for each input when user inputs something on signup form */\r\n    handleChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n        // generate new user object\r\n        let newUser = {\r\n            firstname: this.state.firstname.trim(),\r\n            lastname: this.state.lastname.trim(),\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n            usertype: this.state.usertype\r\n        };\r\n        // input validation\r\n        if (this.state.firstname === '') {\r\n            return this.setState({ errorMessage: \"First name can't be empty!\" });\r\n        }\r\n        if (this.state.lastname === '') {\r\n            return this.setState({ errorMessage: \"Last name can't be empty!\" });\r\n        }\r\n        const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if (!emailRegex.test(String(this.state.email).toLowerCase())) {\r\n            return this.setState({ errorMessage: \"Please enter a valid email!\" });\r\n        }\r\n        // publish create user request to backend\r\n        UserServiceApi.createNewUser(newUser).then(() => {\r\n            this.setState({\r\n                successMessage: 'User has been created!',\r\n                errorMessage: ''\r\n            });\r\n        }).catch((error) => {\r\n            // display error if there's any\r\n            this.setState({ errorMessage: error.response.data.message });\r\n        })\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h2>Create Account</h2>\r\n                {this.state.errorMessage && <Alert variant=\"danger\">\r\n                    <Alert.Heading>Sign up failed!</Alert.Heading>\r\n                    <p>\r\n                        {this.state.errorMessage}\r\n                    </p>\r\n                </Alert>}\r\n                {this.state.successMessage && <Alert variant=\"success\">\r\n                    <Alert.Heading>Account created!</Alert.Heading>\r\n                    <p>\r\n                        {this.state.successMessage}\r\n                    </p>\r\n                </Alert>}\r\n                <Form>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalFirstName\">\r\n                        <Form.Label column sm={2}>\r\n                            First Name\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"firstname\" type=\"firstname\" placeholder=\"First Name\" onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Row} controlId=\"formHorizontalLastName\">\r\n                        <Form.Label column sm={2}>\r\n                            Last Name\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"lastname\" type=\"lastname\" placeholder=\"Last Name\" onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Row} controlId=\"formHorizontalEmail\">\r\n                        <Form.Label column sm={2}>\r\n                            Email\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"email\" type=\"email\" placeholder=\"Email\" onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Row} controlId=\"formHorizontalPassword\">\r\n                        <Form.Label column sm={2}>\r\n                            Password\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"password\" type=\"password\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\" title=\"Must contain: at least one number, one uppercase, lowercase letter, and at least 8 or more characters\" placeholder=\"Password\" onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Row} controlId=\"formHorizontalUserType\">\r\n                        <Form.Label column sm={2}>Account Type</Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"usertype\" as=\"select\" onChange={this.handleChange} required>\r\n                                <option disabled selected>Select account type</option>\r\n                                <option>customer</option>\r\n                                <option>staff</option>\r\n                                <option>admin</option>\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Row}>\r\n                        <Col sm={{ span: 10, offset: 2 }}>\r\n                            <Button onClick={this.handleSubmit}>Create Account</Button>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Form>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminSignUpPage;\r\n"]},"metadata":{},"sourceType":"module"}