{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Microsoft\\\\Documents\\\\capstone3\\\\capstone3\\\\src\\\\components\\\\map.jsx\";\n\n/* Location/Map page */\nimport React from 'react';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport LocationServiceApi from '../api/LocationServiceApi.js';\nimport \"../styles/map.css\";\nconst mapStyles = {\n  width: '100%',\n  height: '100%'\n};\nexport class MapContainer extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    this.onMarkerClick = (props, marker, e) => this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true\n    });\n\n    this.onClose = props => {\n      if (this.state.showingInfoWindow) {\n        this.setState({\n          showingInfoWindow: false,\n          activeMarker: null\n        });\n      }\n    };\n\n    this.state = {\n      locations: [],\n      activeMarker: {},\n      showingInfoWindow: false,\n      selectedPlace: {}\n    };\n  }\n\n  componentDidMount() {\n    // obtain all locations\n    let location_array = this.state.locations; // Get all locations from backend\n\n    LocationServiceApi.getAllLocations().then(res => {\n      const data = res.data; // Iterate through each address and get latitude and longitude\n\n      data.forEach(element => {\n        LocationServiceApi.getGeocodeFromAddress(element.address).then(res => {\n          // Create object with address, latitude and longitude\n          let object = {\n            id: element._id,\n            address: element.address,\n            name: element.name,\n            lat: res.data.results[0].geometry.location.lat,\n            lng: res.data.results[0].geometry.location.lng,\n            cars: element.cars\n          }; // Push address, lat, long as object to react state array\n\n          location_array.push(object);\n          this.setState({\n            locations: location_array\n          });\n        });\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"100vh\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Map, {\n      google: this.props.google,\n      zoom: 14,\n      style: mapStyles,\n      initialCenter: pahatidlocations,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Marker, {\n      onClick: this.onMarkerClick,\n      name: 'Pahatid Express',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(InfoWindow, {\n      marker: this.state.activeMarker,\n      visible: this.state.showingInfoWindow,\n      onClose: this.onClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, this.state.selectedPlace.name)))));\n  }\n\n}\nconst pahatidlocations = [{\n  lat: -31.56391,\n  lng: 147.154312\n}, {\n  lat: -33.718234,\n  lng: 150.363181\n}, {\n  lat: -33.727111,\n  lng: 150.371124\n}, {\n  lat: -33.848588,\n  lng: 151.209834\n}, {\n  lat: -33.851702,\n  lng: 151.216968\n}, {\n  lat: -34.671264,\n  lng: 150.863657\n}, {\n  lat: -35.304724,\n  lng: 148.662905\n}, {\n  lat: -36.817685,\n  lng: 175.699196\n}, {\n  lat: -36.828611,\n  lng: 175.790222\n}, {\n  lat: -37.75,\n  lng: 145.116667\n}, {\n  lat: -37.759859,\n  lng: 145.128708\n}, {\n  lat: -37.765015,\n  lng: 145.133858\n}, {\n  lat: -37.770104,\n  lng: 145.143299\n}, {\n  lat: -37.7737,\n  lng: 145.145187\n}, {\n  lat: -37.774785,\n  lng: 145.137978\n}, {\n  lat: -37.819616,\n  lng: 144.968119\n}, {\n  lat: -38.330766,\n  lng: 144.695692\n}, {\n  lat: -39.927193,\n  lng: 175.053218\n}, {\n  lat: -41.330162,\n  lng: 174.865694\n}, {\n  lat: -42.734358,\n  lng: 147.439506\n}, {\n  lat: -42.734358,\n  lng: 147.501315\n}, {\n  lat: -42.735258,\n  lng: 147.438\n}, {\n  lat: -43.999792,\n  lng: 170.463352\n}];\nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_API_KEY\n})(MapContainer);","map":{"version":3,"sources":["C:/Users/Microsoft/Documents/capstone3/capstone3/src/components/map.jsx"],"names":["React","Map","InfoWindow","Marker","GoogleApiWrapper","LocationServiceApi","mapStyles","width","height","MapContainer","Component","constructor","props","onMarkerClick","marker","e","setState","selectedPlace","activeMarker","showingInfoWindow","onClose","state","locations","componentDidMount","location_array","getAllLocations","then","res","data","forEach","element","getGeocodeFromAddress","address","object","id","_id","name","lat","results","geometry","location","lng","cars","push","render","google","pahatidlocations","apiKey","process","env","REACT_APP_API_KEY"],"mappings":"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","sourcesContent":["/* Location/Map page */\r\nimport React from 'react';\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\r\n\r\nimport LocationServiceApi from '../api/LocationServiceApi.js';\r\nimport \"../styles/map.css\";\r\n\r\n\r\nconst mapStyles = {\r\n  width: '100%',\r\n  height: '100%'\r\n};\r\n\r\nexport class MapContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      locations: [],\r\n      activeMarker: {},\r\n      showingInfoWindow: false,\r\n      selectedPlace: {}\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // obtain all locations\r\n    let location_array = this.state.locations;\r\n    // Get all locations from backend\r\n    LocationServiceApi.getAllLocations().then(res => {\r\n      const data = res.data;\r\n      // Iterate through each address and get latitude and longitude\r\n      data.forEach(element => {\r\n        LocationServiceApi.getGeocodeFromAddress(element.address)\r\n          .then(res => {\r\n            // Create object with address, latitude and longitude\r\n            let object = {\r\n              id: element._id,\r\n              address: element.address,\r\n              name: element.name,\r\n              lat: res.data.results[0].geometry.location.lat,\r\n              lng: res.data.results[0].geometry.location.lng,\r\n              cars: element.cars\r\n            };\r\n            // Push address, lat, long as object to react state array\r\n            location_array.push(object);\r\n            this.setState({\r\n              locations: location_array\r\n            });\r\n          });\r\n      });\r\n    });\r\n  }\r\n\r\n  onMarkerClick = (props, marker, e) =>\r\n    this.setState({\r\n      selectedPlace: props,\r\n      activeMarker: marker,\r\n      showingInfoWindow: true\r\n    });\r\n\r\n  onClose = props => {\r\n    if (this.state.showingInfoWindow) {\r\n      this.setState({\r\n        showingInfoWindow: false,\r\n        activeMarker: null\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ height: \"100vh\" }}>\r\n         <Map\r\n        google={this.props.google}\r\n        zoom={14}\r\n        style={mapStyles}\r\n        initialCenter={\r\n            pahatidlocations\r\n        }\r\n      >\r\n        <Marker\r\n          onClick={this.onMarkerClick}\r\n          name={'Pahatid Express'}\r\n        />\r\n        <InfoWindow\r\n          marker={this.state.activeMarker}\r\n          visible={this.state.showingInfoWindow}\r\n          onClose={this.onClose}\r\n        >\r\n          <div>\r\n            <h4>{this.state.selectedPlace.name}</h4>\r\n          </div>\r\n        </InfoWindow>\r\n      </Map>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst pahatidlocations = [\r\n  { lat: -31.56391, lng: 147.154312 },\r\n  { lat: -33.718234, lng: 150.363181 },\r\n  { lat: -33.727111, lng: 150.371124 },\r\n  { lat: -33.848588, lng: 151.209834 },\r\n  { lat: -33.851702, lng: 151.216968 },\r\n  { lat: -34.671264, lng: 150.863657 },\r\n  { lat: -35.304724, lng: 148.662905 },\r\n  { lat: -36.817685, lng: 175.699196 },\r\n  { lat: -36.828611, lng: 175.790222 },\r\n  { lat: -37.75, lng: 145.116667 },\r\n  { lat: -37.759859, lng: 145.128708 },\r\n  { lat: -37.765015, lng: 145.133858 },\r\n  { lat: -37.770104, lng: 145.143299 },\r\n  { lat: -37.7737, lng: 145.145187 },\r\n  { lat: -37.774785, lng: 145.137978 },\r\n  { lat: -37.819616, lng: 144.968119 },\r\n  { lat: -38.330766, lng: 144.695692 },\r\n  { lat: -39.927193, lng: 175.053218 },\r\n  { lat: -41.330162, lng: 174.865694 },\r\n  { lat: -42.734358, lng: 147.439506 },\r\n  { lat: -42.734358, lng: 147.501315 },\r\n  { lat: -42.735258, lng: 147.438 },\r\n  { lat: -43.999792, lng: 170.463352 },\r\n];\r\n\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: process.env.REACT_APP_API_KEY\r\n})(MapContainer);\r\n\r\n\r\n\r\n            "]},"metadata":{},"sourceType":"module"}