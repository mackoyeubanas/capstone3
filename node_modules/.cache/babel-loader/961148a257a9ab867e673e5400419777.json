{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Microsoft\\\\Documents\\\\capstone3\\\\capstone3\\\\src\\\\components\\\\staffComponents\\\\viewAllCars.jsx\";\n\n/* View all cars page */\nimport React, { Component } from 'react';\nimport { Container, Table, Alert } from 'react-bootstrap';\nimport CarServiceApi from '../../api/CarServiceApi';\nimport LocationServiceApi from '../../api/LocationServiceApi';\nimport { withRouter } from 'react-router-dom';\n\nclass ViewAllCars extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cars: [],\n      errorMessage: ''\n    };\n    this.viewCarDetails = this.viewCarDetails.bind(this);\n  }\n\n  viewCarDetails(id) {\n    this.props.history.push(`/admin/view/cars/${id}`);\n  }\n\n  componentDidMount() {\n    // fetch all cars\n    CarServiceApi.getAllCars().then(res => {\n      res.data.cars.forEach(car => {\n        // fetch location details for each car\n        LocationServiceApi.getLocationFromId(car.location).then(res => {\n          car.location = res.data.name;\n          car.locationId = res.data._id;\n          this.state.cars.push(car);\n          this.setState({\n            cars: this.state.cars\n          });\n        });\n      });\n    }).catch(error => {\n      this.setState({\n        errorMessage: error.response.data.message\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, \"All cars, click row to view/modify.\"), this.state.errorMessage && /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, \"Error Getting all cars!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, this.state.errorMessage)), /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 29\n      }\n    }, \"id\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 29\n      }\n    }, \"driver\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 29\n      }\n    }, \"make\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }\n    }, \"seats\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    }, \"body type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 29\n      }\n    }, \"number plate\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    }, \"colour\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, \"cost per hour\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 29\n      }\n    }, \"fuel type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, \"location\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    }, \"image\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    }, \"current booking\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, this.state.cars.map(car => /*#__PURE__*/React.createElement(\"tr\", {\n      style: {\n        'cursor': 'pointer'\n      },\n      key: car.id,\n      onClick: () => this.viewCarDetails(car.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 37\n      }\n    }, car.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 37\n      }\n    }, car.driver), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 37\n      }\n    }, car.make), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 37\n      }\n    }, car.seats), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 37\n      }\n    }, car.bodytype), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 37\n      }\n    }, car.numberplate), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }\n    }, car.colour), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    }, car.costperhour), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 37\n      }\n    }, car.fueltype), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }, car.location), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"car\",\n      src: car.image,\n      width: 50,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 37\n      }\n    }, car.currentbooking === null ? \"No booking\" : car.currentbooking))))));\n  }\n\n}\n\nexport default withRouter(ViewAllCars);","map":{"version":3,"sources":["C:/Users/Microsoft/Documents/capstone3/capstone3/src/components/staffComponents/viewAllCars.jsx"],"names":["React","Component","Container","Table","Alert","CarServiceApi","LocationServiceApi","withRouter","ViewAllCars","constructor","props","state","cars","errorMessage","viewCarDetails","bind","id","history","push","componentDidMount","getAllCars","then","res","data","forEach","car","getLocationFromId","location","name","locationId","_id","setState","catch","error","response","message","render","map","driver","make","seats","bodytype","numberplate","colour","costperhour","fueltype","image","currentbooking"],"mappings":"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","sourcesContent":["/* View all cars page */\r\nimport React, { Component } from 'react';\r\nimport { Container, Table, Alert } from 'react-bootstrap';\r\nimport CarServiceApi from '../../api/CarServiceApi';\r\nimport LocationServiceApi from '../../api/LocationServiceApi';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass ViewAllCars extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            cars: [],\r\n            errorMessage: ''\r\n        };\r\n        this.viewCarDetails = this.viewCarDetails.bind(this);\r\n    }\r\n\r\n    viewCarDetails(id) {\r\n        this.props.history.push(`/admin/view/cars/${id}`);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // fetch all cars\r\n        CarServiceApi.getAllCars().then(res => {\r\n            res.data.cars.forEach(car => {\r\n                // fetch location details for each car\r\n                LocationServiceApi.getLocationFromId(car.location).then(res => {\r\n                    car.location = res.data.name;\r\n                    car.locationId = res.data._id;\r\n                    this.state.cars.push(car);\r\n                    this.setState({\r\n                        cars: this.state.cars\r\n                    });\r\n                });\r\n            });\r\n        }).catch((error) => {\r\n            this.setState({ errorMessage: error.response.data.message });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Container>\r\n                <h2>All cars, click row to view/modify.</h2>\r\n                {this.state.errorMessage && <Alert variant=\"danger\">\r\n                    <Alert.Heading>Error Getting all cars!</Alert.Heading>\r\n                    <p>\r\n                        {this.state.errorMessage}\r\n                    </p>\r\n                </Alert>}\r\n                <Table striped bordered hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>id</th>\r\n                            <th>driver</th>\r\n                            <th>make</th>\r\n                            <th>seats</th>\r\n                            <th>body type</th>\r\n                            <th>number plate</th>\r\n                            <th>colour</th>\r\n                            <th>cost per hour</th>\r\n                            <th>fuel type</th>\r\n                            <th>location</th>\r\n                            <th>image</th>\r\n                            <th>current booking</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            this.state.cars.map(car =>\r\n                                <tr style={{ 'cursor': 'pointer' }} key={car.id} onClick={() => this.viewCarDetails(car.id)}>\r\n                                    <td>{car.id}</td>\r\n                                    <td>{car.driver}</td>\r\n                                    <td>{car.make}</td>\r\n                                    <td>{car.seats}</td>\r\n                                    <td>{car.bodytype}</td>\r\n                                    <td>{car.numberplate}</td>\r\n                                    <td>{car.colour}</td>\r\n                                    <td>{car.costperhour}</td>\r\n                                    <td>{car.fueltype}</td>\r\n                                    <td>{car.location}</td>\r\n                                    <td><img alt=\"car\" src={car.image} width={50} /></td>\r\n                                    <td>{(car.currentbooking === null) ? \"No booking\" : car.currentbooking}</td>\r\n                                </tr>\r\n                            )\r\n                        }\r\n                    </tbody>\r\n                </Table>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ViewAllCars);\r\n"]},"metadata":{},"sourceType":"module"}