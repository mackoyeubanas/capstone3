{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mark.Eubanas\\\\Documents\\\\Eubanas-Mark\\\\capstone 3\\\\capstone3\\\\src\\\\components\\\\login.jsx\";\n\n/* login page */\nimport React, { Component } from 'react';\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\nimport UserServiceApi from '../api/UserServiceApi.js';\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      // login button handler\n      event.preventDefault();\n      let creds = {\n        email: this.state.email,\n        password: this.state.password\n      }; // email validation\n\n      const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      if (!emailRegex.test(String(this.state.email).toLowerCase())) {\n        return this.setState({\n          errorMessage: \"Please enter a valid email!\"\n        });\n      } // publish login details to backend\n\n\n      UserServiceApi.loginUser(creds).then(res => {\n        UserServiceApi.registerSuccessfulLoginForJwt(res.data.token);\n        window.location.href = `/`;\n      }).catch(error => {\n        this.setState({\n          errorMessage: error.response.data.message\n        });\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      errorMessage: ''\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n  /* Set react state for each input when user inputs something on login form */\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      id: \"login-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, this.state.errorMessage && /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }, \"Login failed!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, this.state.errorMessage)), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      id: \"login_form\",\n      className: \"mt-5, pt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Email\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"password\",\n      type: \"password\",\n      pattern: \"(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\",\n      title: \"Must contain: at least one number, one uppercase, lowercase letter, and at least 8 or more characters\",\n      placeholder: \"Password\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: {\n        span: 10,\n        offset: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, \"Login\")))));\n  }\n\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["C:/Users/Mark.Eubanas/Documents/Eubanas-Mark/capstone 3/capstone3/src/components/login.jsx"],"names":["React","Component","Form","Col","Button","Row","Alert","UserServiceApi","LoginPage","constructor","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","creds","email","state","password","emailRegex","test","String","toLowerCase","errorMessage","loginUser","then","res","registerSuccessfulLoginForJwt","data","token","window","location","href","catch","error","response","message","bind","render","span","offset"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,MAApB,EAA4BC,GAA5B,EAAiCC,KAAjC,QAA8C,iBAA9C;AACA,OAAOC,cAAP,MAA2B,0BAA3B;;AAEA,MAAMC,SAAN,SAAwBP,SAAxB,CAAkC;AAC9BQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAYnBC,YAZmB,GAYJC,KAAK,IAAI;AACpB,WAAKC,QAAL,CAAc;AAAE,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AAApC,OAAd;AACH,KAdkB;;AAAA,SAgBnBC,YAhBmB,GAgBJL,KAAK,IAAI;AACpB;AACAA,MAAAA,KAAK,CAACM,cAAN;AACA,UAAIC,KAAK,GAAG;AACRC,QAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KADV;AAERE,QAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC;AAFb,OAAZ,CAHoB,CAOpB;;AACA,YAAMC,UAAU,GAAG,uJAAnB;;AACA,UAAI,CAACA,UAAU,CAACC,IAAX,CAAgBC,MAAM,CAAC,KAAKJ,KAAL,CAAWD,KAAZ,CAAN,CAAyBM,WAAzB,EAAhB,CAAL,EAA8D;AAC1D,eAAO,KAAKb,QAAL,CAAc;AAAEc,UAAAA,YAAY,EAAE;AAAhB,SAAd,CAAP;AACH,OAXmB,CAYpB;;;AACApB,MAAAA,cAAc,CAACqB,SAAf,CAAyBT,KAAzB,EAAgCU,IAAhC,CAAqCC,GAAG,IAAI;AACxCvB,QAAAA,cAAc,CAACwB,6BAAf,CAA6CD,GAAG,CAACE,IAAJ,CAASC,KAAtD;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,GAAxB;AACH,OAHD,EAGGC,KAHH,CAGUC,KAAD,IAAW;AAChB,aAAKzB,QAAL,CAAc;AAAEc,UAAAA,YAAY,EAAEW,KAAK,CAACC,QAAN,CAAeP,IAAf,CAAoBQ;AAApC,SAAd;AACH,OALD;AAMH,KAnCkB;;AAEf,SAAKnB,KAAL,GAAa;AACTD,MAAAA,KAAK,EAAE,EADE;AAETE,MAAAA,QAAQ,EAAE,EAFD;AAGTK,MAAAA,YAAY,EAAE;AAHL,KAAb;AAKA,SAAKV,YAAL,GAAoB,KAAKA,YAAL,CAAkBwB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAK9B,YAAL,GAAoB,KAAKA,YAAL,CAAkB8B,IAAlB,CAAuB,IAAvB,CAApB;AACH;AAED;;;AA0BAC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,EAAE,EAAC,YAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKrB,KAAL,CAAWM,YAAX,iBAA2B,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACxB,oBAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADwB,eAExB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKN,KAAL,CAAWM,YADhB,CAFwB,CADhC,eAOI,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKV,YAArB;AAAmC,MAAA,EAAE,EAAC,YAAtC;AAAmD,MAAA,SAAS,EAAC,YAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,EAAE,EAAEZ,GAAhB;AAAqB,MAAA,SAAS,EAAC,qBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,MAAM,MAAlB;AAAmB,MAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAII,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,OAAnB;AAA2B,MAAA,IAAI,EAAC,OAAhC;AAAwC,MAAA,WAAW,EAAC,OAApD;AAA4D,MAAA,QAAQ,EAAE,KAAKM,YAA3E;AAAyF,MAAA,QAAQ,MAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CADJ,eAUI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,EAAE,EAAEN,GAAhB;AAAqB,MAAA,SAAS,EAAC,wBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,MAAM,MAAlB;AAAmB,MAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,UAAnB;AAA8B,MAAA,IAAI,EAAC,UAAnC;AAA8C,MAAA,OAAO,EAAC,sCAAtD;AAA4F,MAAA,KAAK,EAAC,uGAAlG;AAA0M,MAAA,WAAW,EAAC,UAAtN;AAAiO,MAAA,QAAQ,EAAE,KAAKM,YAAhP;AAA8P,MAAA,QAAQ,MAAtQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CAVJ,eAmBI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,EAAE,EAAEN,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAEsC,QAAAA,IAAI,EAAE,EAAR;AAAYC,QAAAA,MAAM,EAAE;AAApB,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CADJ,CAnBJ,CAPJ,CADJ;AAmCH;;AA1E6B;;AA6ElC,eAAepC,SAAf","sourcesContent":["/* login page */\r\nimport React, { Component } from 'react';\r\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\r\nimport UserServiceApi from '../api/UserServiceApi.js';\r\n\r\nclass LoginPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            errorMessage: ''\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    /* Set react state for each input when user inputs something on login form */\r\n    handleChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        // login button handler\r\n        event.preventDefault();\r\n        let creds = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        };\r\n        // email validation\r\n        const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if (!emailRegex.test(String(this.state.email).toLowerCase())) {\r\n            return this.setState({ errorMessage: \"Please enter a valid email!\" });\r\n        }\r\n        // publish login details to backend\r\n        UserServiceApi.loginUser(creds).then(res => {\r\n            UserServiceApi.registerSuccessfulLoginForJwt(res.data.token);\r\n            window.location.href = `/`;\r\n        }).catch((error) => {\r\n            this.setState({ errorMessage: error.response.data.message });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\" id=\"login-page\">\r\n                {this.state.errorMessage && <Alert variant=\"danger\">\r\n                    <Alert.Heading>Login failed!</Alert.Heading>\r\n                    <p>\r\n                        {this.state.errorMessage}\r\n                    </p>\r\n                </Alert>}\r\n                <Form onSubmit={this.handleSubmit} id=\"login_form\" className=\"mt-5, pt-5\">\r\n                    <Form.Group as={Row} controlId=\"formHorizontalEmail\">\r\n                        <Form.Label column sm={1}>\r\n                            Email\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"email\" type=\"email\" placeholder=\"Email\" onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Row} controlId=\"formHorizontalPassword\">\r\n                        <Form.Label column sm={1}>\r\n                            Password\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"password\" type=\"password\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\" title=\"Must contain: at least one number, one uppercase, lowercase letter, and at least 8 or more characters\" placeholder=\"Password\" onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Row}>\r\n                        <Col sm={{ span: 10, offset: 1 }}>\r\n                            <Button type=\"submit\">Login</Button>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginPage;\r\n"]},"metadata":{},"sourceType":"module"}