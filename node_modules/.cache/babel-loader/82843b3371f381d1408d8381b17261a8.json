{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mark.Eubanas\\\\Documents\\\\Eubanas-Mark\\\\capstone 3\\\\capstone3\\\\src\\\\components\\\\staffComponents\\\\modifyCarDetails.jsx\";\n\n/* Modify car details page */\nimport React, { Component } from 'react';\nimport { Container, Button, Alert, Table, Form, Col, Row } from 'react-bootstrap';\nimport CarServiceApi from '../../api/CarServiceApi';\nimport LocationServiceApi from '../../api/LocationServiceApi';\nimport { CAR_COLOURS, CAR_BODY_TYPES, CAR_FUEL_TYPES, CAR_SEATS, FILE_UPLOAD_LIMIT } from '../../Constants.js';\nexport default class ModifyCarDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFile = event => {\n      // handle file upload for car image\n      let files = event.target.files;\n\n      if (files !== null) {\n        // file size validation\n        if (event.target.files[0].size > FILE_UPLOAD_LIMIT) {\n          return this.setState({\n            errMsg: 'Image exceeded upload size limit! Please try again with another image.'\n          });\n        }\n\n        let reader = new FileReader();\n        reader.readAsDataURL(files[0]);\n\n        reader.onload = event => {\n          this.setState({\n            b64photo: event.target.result,\n            errMsg: ''\n          });\n        };\n      }\n    };\n\n    this.inputValidation = () => {\n      const {\n        driver,\n        make,\n        seats,\n        bodytype,\n        numberplate,\n        colour,\n        costperhour,\n        fueltype,\n        location,\n        b64photo\n      } = this.state;\n\n      if (driver === '' || make === '' || seats === '' || bodytype === '' || numberplate === '' || colour === '' || costperhour === '' || fueltype === '' || location === '' || b64photo === '') {\n        this.setState({\n          errMsg: \"Please fill in everything\"\n        });\n        return false;\n      } else {\n        this.setState({\n          errMsg: \"\"\n        });\n        return true;\n      }\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      car: '',\n      locationList: [],\n      driver: '',\n      make: '',\n      seats: '',\n      bodytype: '',\n      numberplate: '',\n      colour: '',\n      costperhour: '',\n      fueltype: '',\n      location: '',\n      b64photo: '',\n      errMsg: '',\n      successMsg: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleFile = this.handleFile.bind(this);\n  }\n\n  handleSubmit(event) {\n    // modify car details handler\n    event.preventDefault();\n\n    if (!this.inputValidation()) {\n      return;\n    }\n\n    const {\n      car\n    } = this.state;\n    this.setState({\n      disableSubmit: true\n    }); // create car object with modified values\n\n    let carDetails = {\n      _id: car._id,\n      driver: this.state.driver,\n      make: this.state.make,\n      seats: this.state.seats,\n      bodytype: this.state.bodytype,\n      numberplate: this.state.numberplate,\n      colour: this.state.colour,\n      costperhour: this.state.costperhour,\n      fueltype: this.state.fueltype,\n      location: this.state.location,\n      image: this.state.b64photo\n    }; // publish modified car object to backend\n\n    CarServiceApi.updateCar(carDetails).then(res => {\n      this.setState({\n        successMsg: \"Car is successfully updated\",\n        disableSubmit: false,\n        errMsg: \"\"\n      });\n      this.getCar();\n      this.scrollTop();\n    }).catch(err => {\n      this.setState({\n        errMsg: err.response.data.message,\n        disableSubmit: false,\n        successMsg: \"\"\n      });\n    });\n  }\n\n  scrollTop() {\n    // scroll window to top\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  }\n\n  getCar() {\n    CarServiceApi.getCar(this.props.match.params.id).then(res => {\n      const car = res.data.car;\n      LocationServiceApi.getLocationFromId(car.location).then(res => {\n        car.location = res.data.address;\n        car.locationId = res.data._id;\n        this.setState({\n          car: car,\n          driver: car.driver,\n          make: car.make,\n          numberplate: car.numberplate,\n          costperhour: car.costperhour,\n          seats: car.seats,\n          colour: car.colour,\n          bodytype: car.bodytype,\n          location: car.locationId,\n          fueltype: car.fueltype,\n          b64photo: car.image\n        });\n      });\n    }).catch(err => {\n      this.setState({\n        errMsg: err.response\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.getCar();\n    LocationServiceApi.getAllLocations().then(res => {\n      res.data.map(location => this.setState({\n        locationList: this.state.locationList.concat(location)\n      }));\n    }, err => {\n      this.setState({\n        errMsg: err.response\n      });\n    });\n  }\n\n  render() {\n    const {\n      car\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, \"Car details:\"), /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 29\n      }\n    }, \"id\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 29\n      }\n    }, \"driver\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 29\n      }\n    }, \"make\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 29\n      }\n    }, \"seats\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 29\n      }\n    }, \"body type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 29\n      }\n    }, \"number plate\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    }, \"colour\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 29\n      }\n    }, \"cost per hour\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 29\n      }\n    }, \"fuel type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 29\n      }\n    }, \"location\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 29\n      }\n    }, \"image\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, \"current booking\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      key: car._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 29\n      }\n    }, car._id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 29\n      }\n    }, car.driver), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 29\n      }\n    }, car.make), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 29\n      }\n    }, car.seats), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }, car.bodytype), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 29\n      }\n    }, car.numberplate), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 29\n      }\n    }, car.colour), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 29\n      }\n    }, car.costperhour), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 29\n      }\n    }, car.fueltype), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 29\n      }\n    }, car.location), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"car\",\n      src: car.image,\n      width: 50,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, car.currentbooking === null ? \"No booking\" : car.currentbooking)))), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, \"Modify details\"), this.state.errMsg && /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 25\n      }\n    }, \"Modify car failed!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, this.state.errMsg)), this.state.successMsg && /*#__PURE__*/React.createElement(Alert, {\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 25\n      }\n    }, \"Modify car succeed!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }, this.state.successMsg)), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalMake\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 25\n      }\n    }, \"Driver\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"driver\",\n      type: \"driver\",\n      value: this.state.driver,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalMake\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 25\n      }\n    }, \"Make\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"make\",\n      type: \"make\",\n      value: this.state.make,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalSeats\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 25\n      }\n    }, \"Seats\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"seats\",\n      type: \"seats\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 29\n      }\n    }, CAR_SEATS.map((option, index) => {\n      const bool = option === car.seats;\n      return bool ? /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: option,\n        selected: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 54\n        }\n      }, option) : /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: option,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 49\n        }\n      }, option);\n    })))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalBodyType\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 25\n      }\n    }, \"Body type\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"bodytype\",\n      type: \"bodytype\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 29\n      }\n    }, CAR_BODY_TYPES.map((option, index) => {\n      const bool = option === car.bodytype;\n      return bool ? /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: option,\n        selected: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 54\n        }\n      }, option) : /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: option,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 49\n        }\n      }, option);\n    })))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalNumberPlate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 25\n      }\n    }, \"Number Plate\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"numberplate\",\n      type: \"numberplate\",\n      value: this.state.numberplate,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalColour\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 25\n      }\n    }, \"Colour\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"colour\",\n      type: \"colour\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 33\n      }\n    }, \"Select colour\"), CAR_COLOURS.map((option, index) => {\n      const bool = option === car.colour;\n      return bool ? /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: option,\n        selected: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 54\n        }\n      }, option) : /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: option,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 49\n        }\n      }, option);\n    })))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalCostPerHour\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 25\n      }\n    }, \"Cost per hour\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"costperhour\",\n      type: \"number\",\n      value: this.state.costperhour,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalFuelType\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 25\n      }\n    }, \"Fuel type\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"fueltype\",\n      type: \"fueltype\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 33\n      }\n    }, \"Select fuel type\"), CAR_FUEL_TYPES.map((option, index) => {\n      const bool = option === car.fueltype;\n      return bool ? /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: option,\n        selected: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 54\n        }\n      }, option) : /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: option,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 49\n        }\n      }, option);\n    })))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalLocation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 25\n      }\n    }, \"Location\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"location\",\n      type: \"location\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 33\n      }\n    }, \"Select location\"), \"l\", this.state.locationList.map((option, index) => {\n      const bool = option.address === car.location;\n      return bool ? /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: option._id,\n        selected: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 54\n        }\n      }, option.address) : /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: option._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 49\n        }\n      }, option.address);\n    })))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalLocation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.File, {\n      id: \"custom-file\",\n      label: \"Car Image (4MB max)\",\n      name: \"b64photo\",\n      accept: \"image/*\",\n      onChange: this.handleFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: {\n        span: 10,\n        offset: 2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleSubmit,\n      disabled: this.state.disableSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 29\n      }\n    }, \"Update Car\")))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Mark.Eubanas/Documents/Eubanas-Mark/capstone 3/capstone3/src/components/staffComponents/modifyCarDetails.jsx"],"names":["React","Component","Container","Button","Alert","Table","Form","Col","Row","CarServiceApi","LocationServiceApi","CAR_COLOURS","CAR_BODY_TYPES","CAR_FUEL_TYPES","CAR_SEATS","FILE_UPLOAD_LIMIT","ModifyCarDetails","constructor","props","handleFile","event","files","target","size","setState","errMsg","reader","FileReader","readAsDataURL","onload","b64photo","result","inputValidation","driver","make","seats","bodytype","numberplate","colour","costperhour","fueltype","location","state","handleChange","name","value","car","locationList","successMsg","bind","handleSubmit","preventDefault","disableSubmit","carDetails","_id","image","updateCar","then","res","getCar","scrollTop","catch","err","response","data","message","window","scrollTo","top","behavior","match","params","id","getLocationFromId","address","locationId","componentDidMount","getAllLocations","map","concat","render","currentbooking","option","index","bool","span","offset"],"mappings":"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","sourcesContent":["/* Modify car details page */\r\nimport React, { Component } from 'react'\r\nimport { Container, Button, Alert, Table, Form, Col, Row } from 'react-bootstrap'\r\nimport CarServiceApi from '../../api/CarServiceApi';\r\nimport LocationServiceApi from '../../api/LocationServiceApi';\r\nimport { CAR_COLOURS, CAR_BODY_TYPES, CAR_FUEL_TYPES, CAR_SEATS, FILE_UPLOAD_LIMIT } from '../../Constants.js';\r\n\r\nexport default class ModifyCarDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            car: '',\r\n            locationList: [],\r\n            driver: '',\r\n            make: '',\r\n            seats: '',\r\n            bodytype: '',\r\n            numberplate: '',\r\n            colour: '',\r\n            costperhour: '',\r\n            fueltype: '',\r\n            location: '',\r\n            b64photo: '',\r\n            errMsg: '',\r\n            successMsg: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleFile = this.handleFile.bind(this);\r\n    }\r\n\r\n    handleFile = (event) => {\r\n        // handle file upload for car image\r\n        let files = event.target.files;\r\n        if (files !== null) {\r\n            // file size validation\r\n            if (event.target.files[0].size > FILE_UPLOAD_LIMIT) {\r\n                return this.setState({\r\n                    errMsg: 'Image exceeded upload size limit! Please try again with another image.'\r\n                });\r\n            }\r\n            let reader = new FileReader();\r\n            reader.readAsDataURL(files[0]);\r\n            reader.onload = (event) => {\r\n                this.setState({\r\n                    b64photo: event.target.result,\r\n                    errMsg: ''\r\n                });\r\n            };\r\n        }\r\n    }\r\n\r\n    inputValidation = () => {\r\n        const { driver, make, seats, bodytype, numberplate,\r\n            colour, costperhour, fueltype, location, b64photo } = this.state;\r\n\r\n        if (driver === '' || make === '' || seats === '' || bodytype === '' || numberplate === ''\r\n            || colour === '' || costperhour === '' || fueltype === '' || location === '' || b64photo === '') {\r\n            this.setState({\r\n                errMsg: \"Please fill in everything\"\r\n            });\r\n            return false;\r\n        }\r\n        else {\r\n            this.setState({\r\n                errMsg: \"\"\r\n            });\r\n            return true;\r\n        }\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        // modify car details handler\r\n        event.preventDefault();\r\n        if (!this.inputValidation()) {\r\n            return;\r\n        }\r\n        const { car } = this.state;\r\n        this.setState({\r\n            disableSubmit: true,\r\n        });\r\n        // create car object with modified values\r\n        let carDetails = {\r\n            _id: car._id,\r\n            driver: this.state.driver,\r\n            make: this.state.make,\r\n            seats: this.state.seats,\r\n            bodytype: this.state.bodytype,\r\n            numberplate: this.state.numberplate,\r\n            colour: this.state.colour,\r\n            costperhour: this.state.costperhour,\r\n            fueltype: this.state.fueltype,\r\n            location: this.state.location,\r\n            image: this.state.b64photo\r\n        };\r\n        // publish modified car object to backend\r\n        CarServiceApi.updateCar(carDetails).then(res => {\r\n            this.setState({\r\n                successMsg: \"Car is successfully updated\",\r\n                disableSubmit: false,\r\n                errMsg: \"\"\r\n            });\r\n            this.getCar();\r\n            this.scrollTop();\r\n        }).catch(err => {\r\n            this.setState({\r\n                errMsg: err.response.data.message,\r\n                disableSubmit: false,\r\n                successMsg: \"\"\r\n            });\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    }\r\n\r\n    scrollTop() {\r\n        // scroll window to top\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: \"smooth\"\r\n        });\r\n    }\r\n\r\n    getCar() {\r\n        CarServiceApi.getCar(this.props.match.params.id).then(res => {\r\n            const car = res.data.car;\r\n            LocationServiceApi.getLocationFromId(car.location).then(res => {\r\n                car.location = res.data.address;\r\n                car.locationId = res.data._id;\r\n                this.setState({\r\n                    car: car,\r\n                    driver: car.driver,\r\n                    make: car.make,\r\n                    numberplate: car.numberplate,\r\n                    costperhour: car.costperhour,\r\n                    seats: car.seats,\r\n                    colour: car.colour,\r\n                    bodytype: car.bodytype,\r\n                    location: car.locationId,\r\n                    fueltype: car.fueltype,\r\n                    b64photo: car.image\r\n                });\r\n            });\r\n        }).catch(err => {\r\n            this.setState({\r\n                errMsg: err.response\r\n            });\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCar();\r\n\r\n        LocationServiceApi.getAllLocations().then((res) => {\r\n            res.data.map(location => this.setState({ locationList: this.state.locationList.concat(location) }));\r\n        }, (err) => {\r\n            this.setState({\r\n                errMsg: err.response\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { car } = this.state;\r\n\r\n        return (\r\n            <Container>\r\n                <h2>Car details:</h2>\r\n                <Table striped bordered hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>id</th>\r\n                            <th>driver</th>\r\n                            <th>make</th>\r\n                            <th>seats</th>\r\n                            <th>body type</th>\r\n                            <th>number plate</th>\r\n                            <th>colour</th>\r\n                            <th>cost per hour</th>\r\n                            <th>fuel type</th>\r\n                            <th>location</th>\r\n                            <th>image</th>\r\n                            <th>current booking</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr key={car._id}>\r\n                            <td>{car._id}</td>\r\n                            <td>{car.driver}</td>\r\n                            <td>{car.make}</td>\r\n                            <td>{car.seats}</td>\r\n                            <td>{car.bodytype}</td>\r\n                            <td>{car.numberplate}</td>\r\n                            <td>{car.colour}</td>\r\n                            <td>{car.costperhour}</td>\r\n                            <td>{car.fueltype}</td>\r\n                            <td>{car.location}</td>\r\n                            <td><img alt=\"car\" src={car.image} width={50} /></td>\r\n                            <td>{(car.currentbooking === null) ? \"No booking\" : car.currentbooking}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n\r\n                <h2>Modify details</h2>\r\n                {this.state.errMsg &&\r\n                    <Alert variant=\"danger\">\r\n                        <Alert.Heading>Modify car failed!</Alert.Heading>\r\n                        <p>\r\n                            {this.state.errMsg}\r\n                        </p>\r\n                    </Alert>\r\n                }\r\n\r\n                {this.state.successMsg &&\r\n                    <Alert variant=\"success\">\r\n                        <Alert.Heading>Modify car succeed!</Alert.Heading>\r\n                        <p>\r\n                            {this.state.successMsg}\r\n                        </p>\r\n                    </Alert>\r\n                }\r\n                <Form>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalMake\">\r\n                        <Form.Label column sm={2}>\r\n                            Driver\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"driver\" type=\"driver\" value={this.state.driver} onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n                     <Form.Group as={Row} controlId=\"formHorizontalMake\">\r\n                        <Form.Label column sm={2}>\r\n                            Make\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"make\" type=\"make\" value={this.state.make} onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalSeats\">\r\n                        <Form.Label column sm={2}>\r\n                            Seats\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control as=\"select\" name=\"seats\" type=\"seats\" onChange={this.handleChange} required>\r\n                                {\r\n                                    CAR_SEATS.map((option, index) => {\r\n                                        const bool = option === car.seats\r\n                                        return (\r\n                                            (bool) ? <option key={index} value={option} selected>{option}</option> :\r\n                                                <option key={index} value={option}>{option}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalBodyType\">\r\n                        <Form.Label column sm={2}>\r\n                            Body type\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control as=\"select\" name=\"bodytype\" type=\"bodytype\" onChange={this.handleChange} required>\r\n                                {\r\n                                    CAR_BODY_TYPES.map((option, index) => {\r\n                                        const bool = option === car.bodytype\r\n                                        return (\r\n                                            (bool) ? <option key={index} value={option} selected>{option}</option> :\r\n                                                <option key={index} value={option}>{option}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalNumberPlate\">\r\n                        <Form.Label column sm={2}>\r\n                            Number Plate\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"numberplate\" type=\"numberplate\" value={this.state.numberplate} onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalColour\">\r\n                        <Form.Label column sm={2}>\r\n                            Colour\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control as=\"select\" name=\"colour\" type=\"colour\" onChange={this.handleChange} required>\r\n                                <option disabled selected>Select colour</option>\r\n                                {\r\n                                    CAR_COLOURS.map((option, index) => {\r\n                                        const bool = option === car.colour\r\n                                        return (\r\n                                            (bool) ? <option key={index} value={option} selected>{option}</option> :\r\n                                                <option key={index} value={option}>{option}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalCostPerHour\">\r\n                        <Form.Label column sm={2}>\r\n                            Cost per hour\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control name=\"costperhour\" type=\"number\" value={this.state.costperhour} onChange={this.handleChange} required />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalFuelType\">\r\n                        <Form.Label column sm={2}>\r\n                            Fuel type\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control as=\"select\" name=\"fueltype\" type=\"fueltype\" onChange={this.handleChange} required>\r\n                                <option disabled selected>Select fuel type</option>\r\n                                {\r\n                                    CAR_FUEL_TYPES.map((option, index) => {\r\n                                        const bool = option === car.fueltype\r\n                                        return (\r\n                                            (bool) ? <option key={index} value={option} selected>{option}</option> :\r\n                                                <option key={index} value={option}>{option}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalLocation\">\r\n                        <Form.Label column sm={2}>\r\n                            Location\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.Control as=\"select\" name=\"location\" type=\"location\" onChange={this.handleChange} required>\r\n                                <option disabled selected>Select location</option>l\r\n                                {\r\n                                    this.state.locationList.map((option, index) => {\r\n                                        const bool = option.address === car.location\r\n                                        return (\r\n                                            (bool) ? <option key={index} value={option._id} selected>{option.address}</option> :\r\n                                                <option key={index} value={option._id}>{option.address}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalLocation\">\r\n                        <Form.Label column sm={2}>\r\n                        </Form.Label>\r\n                        <Col sm={10}>\r\n                            <Form.File\r\n                                id=\"custom-file\"\r\n                                label=\"Car Image (4MB max)\"\r\n                                name=\"b64photo\"\r\n                                accept=\"image/*\"\r\n                                onChange={this.handleFile}\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row}>\r\n                        <Col sm={{ span: 10, offset: 2 }}>\r\n                            <Button onClick={this.handleSubmit} disabled={this.state.disableSubmit}>Update Car</Button>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Form>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}